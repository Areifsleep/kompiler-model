{
  "system_model": {
    "system_name": "Sistem Informasi Akademik",
    "version": "2.1.0-xtuml-simplified-consistent",
    "subsystems": [
      {
        "name": "Manajemen Akademik",
        "prefix": "MCA",
        "data_types": [
          { "name": "unique_ID", "core_type": "unique_ID" },
          { "name": "nama_orang", "core_type": "string" },
          { "name": "kode_mk", "core_type": "string" },
          { "name": "sks_type", "core_type": "integer" },
          { "name": "tanggal", "core_type": "date" }
        ],
        "classes": [
          {
            "name": "Person",
            "key_letter": "PRS",
            "class_number": 1,
            "attributes": [
              { "name": "Person_ID", "type": "unique_ID", "is_identifier": true },
              { "name": "Nama", "type": "nama_orang", "is_identifier": false },
              { "name": "Email", "type": "string", "is_identifier": false }
            ]
          },
          {
            "name": "Mahasiswa",
            "key_letter": "MHS",
            "class_number": 2,
            "attributes": [
              { "name": "MHS_ID", "type": "unique_ID", "is_identifier": true },
              { "name": "Person_ID", "type": "unique_ID", "is_identifier": false, "referential": "R1" },
              { "name": "NIM", "type": "string", "is_identifier": true },
              { "name": "Current_State", "type": "state<MHS>", "is_identifier": false }
            ],
            "state_model": {
              "initial_state": "Aktif",
              "states": [{ "name": "Aktif" }, { "name": "Cuti" }, { "name": "Lulus" }],
              "transitions": [
                {
                  "event": "ambilCuti",
                  "from_state": "Aktif",
                  "to_state": "Cuti",
                  "parameters": [{ "name": "alasan", "type": "string" }],
                  "steps": [
                    { "type": "log", "message": "Mahasiswa ${self.NIM} mengajukan cuti dengan alasan: ${alasan}." },
                    { "type": "update", "attribute": "Current_State", "value": "Cuti" }
                  ]
                },
                {
                  "event": "aktifkanKembali",
                  "from_state": "Cuti",
                  "to_state": "Aktif",
                  "parameters": [{ "name": "tanggalAktif", "type": "date" }],
                  "steps": [
                    { "type": "log", "message": "Mahasiswa ${self.NIM} aktif kembali per ${tanggalAktif}." },
                    { "type": "update", "attribute": "Current_State", "value": "Aktif" }
                  ]
                },
                {
                  "event": "dinyatakanLulus",
                  "from_state": "Aktif",
                  "to_state": "Lulus",
                  "parameters": [{ "name": "tanggalLulus", "type": "date" }],
                  "steps": [
                    { "type": "log", "message": "Mahasiswa ${self.NIM} telah lulus pada ${tanggalLulus}." },
                    { "type": "update", "attribute": "Current_State", "value": "Lulus" }
                  ]
                }
              ]
            }
          },
          {
            "name": "Dosen",
            "key_letter": "DSN",
            "class_number": 3,
            "attributes": [
              { "name": "DSN_ID", "type": "unique_ID", "is_identifier": true },
              { "name": "Person_ID", "type": "unique_ID", "is_identifier": false, "referential": "R1" },
              { "name": "NIP", "type": "string", "is_identifier": true },
              { "name": "Current_State", "type": "state<DSN>", "is_identifier": false }
            ],
            "state_model": {
              "initial_state": "Aktif Mengajar",
              "states": [{ "name": "Aktif Mengajar" }, { "name": "Cuti Akademik" }, { "name": "Pensiun" }],
              "transitions": [
                {
                  "event": "ajukanCuti",
                  "from_state": "Aktif Mengajar",
                  "to_state": "Cuti Akademik",
                  "parameters": [{ "name": "durasiCuti", "type": "integer" }],
                  "steps": [
                    { "type": "log", "message": "Dosen ${self.NIP} mengajukan cuti selama ${durasiCuti} bulan." },
                    { "type": "update", "attribute": "Current_State", "value": "Cuti Akademik" }
                  ]
                },
                {
                  "event": "selesaiCuti",
                  "from_state": "Cuti Akademik",
                  "to_state": "Aktif Mengajar",
                  "parameters": [{ "name": "tanggalKembali", "type": "date" }],
                  "steps": [
                    { "type": "log", "message": "Dosen ${self.NIP} kembali mengajar pada ${tanggalKembali}." },
                    { "type": "update", "attribute": "Current_State", "value": "Aktif Mengajar" }
                  ]
                },
                {
                  "event": "memasukiPensiun",
                  "from_state": "Aktif Mengajar",
                  "to_state": "Pensiun",
                  "parameters": [{ "name": "tanggalPensiun", "type": "date" }],
                  "steps": [
                    { "type": "log", "message": "Dosen ${self.NIP} pensiun per ${tanggalPensiun}." },
                    { "type": "update", "attribute": "Current_State", "value": "Pensiun" }
                  ]
                }
              ]
            }
          },
          {
            "name": "MataKuliah",
            "key_letter": "MK",
            "class_number": 4,
            "attributes": [
              { "name": "MK_ID", "type": "unique_ID", "is_identifier": true },
              { "name": "KodeMK", "type": "kode_mk", "is_identifier": false },
              { "name": "NamaMK", "type": "string", "is_identifier": false },
              { "name": "SKS", "type": "sks_type", "is_identifier": false }
            ]
          },
          {
            "name": "KRS",
            "key_letter": "KRS",
            "class_number": 5,
            "type": "Association",
            "attributes": [
              { "name": "MHS_ID", "type": "unique_ID", "is_identifier": true, "referential": "R2" },
              { "name": "MK_ID", "type": "unique_ID", "is_identifier": true, "referential": "R2" },
              { "name": "Semester", "type": "string", "is_identifier": false },
              { "name": "Nilai", "type": "string", "is_identifier": false }
            ]
          }
        ],
        "relationships": [
          {
            "label": "R1",
            "type": "Subtype",
            "superclass": { "key_letter": "PRS" },
            "subclasses": [{ "key_letter": "MHS" }, { "key_letter": "DSN" }]
          },
          {
            "label": "R2",
            "type": "Associative",
            "one_side": { "key_letter": "MHS", "phrase": "mengambil", "mult": "One", "cond": "Mandatory" },
            "other_side": { "key_letter": "MK", "phrase": "diambil oleh", "mult": "Many", "cond": "Optional" },
            "association_class": { "key_letter": "KRS" }
          }
        ]
      }
    ]
  }
}
